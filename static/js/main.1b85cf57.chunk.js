(this["webpackJsonpreact-dnd-image-puzzle"]=this["webpackJsonpreact-dnd-image-puzzle"]||[]).push([[0],{31:function(e,t,c){"use strict";c.r(t);var n=c(2),i=c(1),a=c.n(i),r=c(19),o=c.n(r),s=c(22),p=c(7),u=c(5),h=c(21),d=c(33),l=function(e){return{display:"flex",flexWrap:"wrap",padding:0,width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}},b=function(e){return{width:"".concat(e.width/e.pieces,"px"),height:"".concat(e.height/e.pieces,"px"),margin:"0 -1px -1px",border:"1px solid #000",backgroundImage:"url(".concat(e.image,")"),backgroundSize:"".concat(e.width,"px ").concat(e.height,"px"),backgroundPosition:"-".concat(e.x,"px -").concat(e.y,"px"),opacity:"".concat(e.isOver?"0.2":"1"),backgroundRepeat:"no-repeat",cursor:"move"}},j=c(34),O=c(35),f=Object(i.memo)((function(e){var t=e.position,c=e.onSwap,i=Object(j.a)({item:{position:t,type:"PIECE"}}),a=Object(u.a)(i,2)[1],r=Object(O.a)({accept:"PIECE",drop:function(e){c(e.position,t)},collect:function(e){return{isOver:e.isOver()}}}),o=Object(u.a)(r,2),s=o[0].isOver,h=o[1];return Object(n.jsx)("div",{className:"puzzle-piece",ref:h,children:Object(n.jsx)("div",{ref:a,style:b(Object(p.a)(Object(p.a)({},e),{},{isOver:s}))})})})),g=function(e){var t=e.width,c=e.height,a=e.pieces,r=e.onComplete,o=Object(i.useState)([]),b=Object(u.a)(o,2),j=b[0],O=b[1],g=Object(i.useState)([]),x=Object(u.a)(g,2),m=x[0],v=x[1],y=Object(i.useState)([]),w=Object(u.a)(y,2),z=w[0],k=w[1],S=a*a,C=function(e,t){var c,n,i=m.slice(),a=[];for(var o in i){var s=i[o],p=s;s===e?p=t:s===t&&(p=e),a.push(p)}v(a),c=j,n=a,Array.isArray(c)&&Array.isArray(n)&&c.length===n.length&&c.every((function(e,t){return e===n[t]}))&&r()},E=Object(i.useCallback)((function(e){return{x:Math.floor(e%a*(t/a)),y:Math.floor(e/a)*(c/a)}}),[t,c,a]);return Object(i.useEffect)((function(){var e=Object(s.a)(Array(S).keys()),t=e.map((function(e){return E(e)}));k(t),O(e),v(function(e){for(var t=e.slice(),c=t.length-1;c>0;c--){var n=Math.floor(Math.random()*(c+1)),i=[t[n],t[c]];t[c]=i[0],t[n]=i[1]}return t}(e))}),[E,S]),Object(n.jsxs)(d.a,{backend:h.a,children:[Object(n.jsx)("div",{style:l({width:t,height:c}),children:m.map((function(t){return Object(n.jsx)(f,Object(p.a)(Object(p.a)({position:t,onSwap:C},z[t]),e),t)}))}),Object(n.jsx)("style",{children:"\n          .puzzle-piece:hover {\n            opacity: 0.8;\n          }\n        "})]})};g.defaultProps={width:400,height:300,pieces:3,onComplete:function(){}};var x=g,m=c.p+"static/media/main-square-urban-tourism-spain.1ab7d0f9.jpg";var v=function(){return Object(n.jsx)(x,{image:m,width:575,height:800,pieces:3,onComplete:function(){console.log("Puzzle is completed!")}})};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.1b85cf57.chunk.js.map